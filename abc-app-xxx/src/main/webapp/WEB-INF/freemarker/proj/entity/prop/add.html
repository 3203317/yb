<#include "/_pagelet/constant.html"/>
<!DOCTYPE html>
<html lang="zh">
	<head>
		<title>修改资料 | 帐户管理 | 系统原型</title>
		<link rel="stylesheet" href="${(conf_html_cdn)!}js/ace/1.1.2/assets/css/jquery.gritter.css" />
		<#include "/_pagelet/header.html"/>
		<link rel="stylesheet" href="${(conf_html_cdn)!}js/ace/1.1.2/assets/css/bootstrap-editable.css" />
		<style>
		.editableform-loading {
			background: url('${(conf_html_cdn)!}js/ace/1.1.2/assets/css/images/loading.gif') center center no-repeat;
		}
		</style>
	</head>

	<body>
		<#include "/default/_pagelet/nav.html"/>

		<div class="main-container container-fluid">
			<a class="menu-toggler" id="menu-toggler" href="#">
				<span class="menu-text"></span>
			</a>

			<#include "/default/_pagelet/sidebar.html"/>

			<div class="main-content">
				<div class="breadcrumbs" id="breadcrumbs">
					<ul class="breadcrumb">
						<li>
							<i class="icon-home home-icon"></i>
							<a href="/">首页</a>

							<span class="divider">
								<i class="icon-angle-right arrow-icon"></i>
							</span>
						</li>

						<li>
							帐户管理
							<span class="divider">
								<i class="icon-angle-right arrow-icon"></i>
							</span>
						</li>
						<li class="active">修改资料</li>
					</ul><!--.breadcrumb-->

					<div class="nav-search" id="nav-search">
						<form class="form-search" />
							<span class="input-icon">
								<input type="text" placeholder="搜索" class="input-small nav-search-input" id="nav-search-input" autocomplete="off" />
								<i class="icon-search nav-search-icon"></i>
							</span>
						</form>
					</div><!--#nav-search-->
				</div>

				<div class="page-content">

					<div class="page-header position-relative">
						<h1>
							修改资料
							<small>
								<i class="icon-double-angle-right"></i>
								My Profile
							</small>
						</h1>
					</div><!--/.page-header-->

					<div class="row-fluid">
						<div class="span12">
							<!--PAGE CONTENT BEGINS-->

							<div class="alert alert-block alert-error">
								<button type="button" class="close" data-dismiss="alert">
									<i class="icon-remove"></i>
								</button>

								<strong>
									<i class="icon-info-sign"></i>
									系统提示：
								</strong>

								为了您的账户安全，请尽量使用真实资料。
							</div>

							<div class="row-fluid">
								<div class="span12">
									<div class="tabbable">
										<ul class="nav nav-tabs" id="myTab">
											<li class="active">
												<a data-toggle="tab" href="#info">
													<i class="green icon-edit bigger-110"></i>
													个人资料
												</a>
											</li>
										</ul>

										<div class="tab-content">
											<div id="home" class="tab-pane in active">

												<form id='frm' role='form' class="form-horizontal">
													<input type="hidden" name='entity_id' value='${(data_pe_id)!}' />

													<div class="control-group">
														<label class="control-label" for="frm_id">属性名称</label>

														<div class="controls">
															<input type="text" class='input-large' id="frm_id" name='id' placeholder="属性名称" value='' />
														</div>
													</div>

													<div class="control-group">
														<label class="control-label" for="frm_prop_desc">属性描述</label>

														<div class="controls">
															<input type="text" class='input-large' id="frm_prop_desc" name='prop_desc' placeholder="属性描述" value='' />
														</div>
													</div>

													<div class="control-group">
														<label class="control-label" for="frm_prop_type">数据类型</label>

														<div class="controls">
															<select name="prop_type" id="frm_prop_type">
																<option value="varchar" />varchar
																<option value="number" />number
																<option value="date" />date
															</select>
														</div>
													</div>

													<div class="control-group">
														<label class="control-label" for="frm_prop_max">最大</label>

														<div class="controls">
															<input type='text' class='input-large' name='prop_max' id='frm_prop_max' value='' />
														</div>
													</div>

													<div class="control-group">
														<label class="control-label" for="frm_prop_min">最小</label>

														<div class="controls">
															<input type='text' class='input-large' name='prop_min' id='frm_prop_min' value='' />
														</div>
													</div>

													<div class="control-group">
														<label class="control-label" for="frm_regex">正则</label>

														<div class="controls">
															<input type="text" class='input-large' id="frm_regex" name='regex' placeholder="正则" value='' />
														</div>
													</div>

													<div class="control-group">
														<label class="control-label">允许空</label>

														<div class="controls">
															<label>
																<input name="is_null" type="radio" value='1' checked />
																<span class="lbl"> 是</span>
															</label>

															<label>
																<input name="is_null" type="radio" value='0' />
																<span class="lbl"> 否</span>
															</label>
														</div>
													</div>

													<div class="control-group">
														<label class="control-label">排除</label>

														<div class="controls">
															<label>
																<input name="is_transient" type="radio" value='1' />
																<span class="lbl"> 是</span>
															</label>

															<label>
																<input name="is_transient" type="radio" value='0' checked />
																<span class="lbl"> 否</span>
															</label>
														</div>
													</div>

													<div class="control-group">
														<label class="control-label">主键</label>

														<div class="controls">
															<label>
																<input name="is_pk" type="radio" value='1' checked />
																<span class="lbl"> 是</span>
															</label>

															<label>
																<input name="is_pk" type="radio" value='0' />
																<span class="lbl"> 否</span>
															</label>
														</div>
													</div>

													<div class="control-group">
														<label class="control-label" for="frm_def_val">默认值</label>

														<div class="controls">
															<input type="text" class='input-large' id="frm_def_val" name='def_val' placeholder="默认值" value='' />
														</div>
													</div>

													<div class="control-group">
														<label class="control-label" for="frm_valid_msg">验证消息</label>

														<div class="controls">
															<input type="text" class='input-large' id="frm_valid_msg" name='valid_msg' placeholder="验证消息" value='' />
														</div>
													</div>

													<div class="form-actions">
														<button class="btn btn-info" onclick="return false;" id='btn_submit'>
															<i class="icon-ok bigger-110"></i>
															提交
														</button>

														&nbsp; &nbsp;
														<button class="btn" type="reset">
															<i class="icon-undo bigger-110"></i>
															重置
														</button>
													</div>
													
												</form>
											</div>
										</div>
									</div>
								</div>
							</div>

							<!--PAGE CONTENT ENDS-->
						</div><!--/.span-->
					</div><!--/.row-fluid-->
				</div><!--/.page-content-->

				<#include "/_pagelet/settings.html"/>
			</div><!--/.main-content-->
		</div><!--/.main-container-->

		<#include "/_pagelet/footer.html"/>
		<#include "/_pagelet/js.html"/>
		<script src="${(conf_html_cdn)!}js/ace/1.1.2/assets/js/jquery.gritter.min.js"></script>
		<script src="${(conf_html_cdn)!}js/ace/1.1.2/assets/js/bootbox.min.js"></script>
		<script src="${(conf_html_cdn)!}js/ace/1.1.2/assets/js/jquery.hotkeys.min.js"></script>
		<script src="${(conf_html_cdn)!}js/ace/1.1.2/assets/js/bootstrap-wysiwyg.min.js"></script>
		<script src="${(conf_html_cdn)!}js/ace/1.1.2/assets/js/select2.min.js"></script>
		<script src="${(conf_html_cdn)!}js/ace/1.1.2/assets/js/date-time/bootstrap-datepicker.min.js"></script>
		<script src="${(conf_html_cdn)!}js/ace/1.1.2/assets/js/x-editable/bootstrap-editable.min.js"></script>
		<script src="${(conf_html_cdn)!}js/ace/1.1.2/assets/js/x-editable/ace-editable.min.js"></script>
		<script src="${(conf_html_cdn)!}js/ace/1.1.2/assets/js/jquery.maskedinput.min.js"></script>
		
		<script src='${(conf_html_cdn)!}js/ace/1.1.2/assets/js/fuelux/fuelux.spinner.min.js'></script>

		<script>

		$(function(){
		  $('#frm_prop_max').ace_spinner({
		    value: 0,
		    min: 0,
		    max: 10000,
		    step: 1,
		    icon_up: 'icon-plus',
		    icon_down: 'icon-minus',
		    btn_up_class: 'btn-success' ,
		    btn_down_class: 'btn-danger'
		  });

		  $('#frm_prop_min').ace_spinner({
		    value: 0,
		    min: 0,
		    max: 10000,
		    step: 1,
		    icon_up: 'icon-plus',
		    icon_down: 'icon-minus',
		    btn_up_class: 'btn-success' ,
		    btn_down_class: 'btn-danger'
		  });
		})

		$(function(){

			$('#btn_submit').click(function(){
				$.ajax({
					url : './add',
					type : 'POST',
					dataType : 'JSON',
					data : $('#frm').serializeObjectForm(),
					success : function(data) {
						if (data.success){
							alert('添加成功');
							return;
						}
						if (data.msg) alert(data.msg);
					},
					error : function() {
						alert(arguments[2]);
					}
				});
			});
		});

		</script>
	</body>
</html>